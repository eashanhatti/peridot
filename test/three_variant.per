import nat.per

/* A `Bool` is not sufficient to describe a datatype with more than two variants, so here we use a `Nat` */
def Foo
  : Type
  = Struct {
      tag: Nat,
      data:
        if tag.tag {
          Struct { data: Nat }
        } elseif tag.data.tag {
          Struct { a: Bool }
        } else {
          Struct { data: Bool }
        }
    }
