/* The natural number datatype. See `nat.per` */
define Nat
  : Type
  = Record {
      tag: Bool,
      data:
        if tag {
          Record {}
        } else {
          Nat
        }
    }

/* A `Bool` is not sufficient to describe a datatype with more than two variants, so here we use a `Nat` */
define Foo
  : Type
  = Record {
      tag: Nat,
      data:
        if tag.tag {
          Record { data: Nat }
        } elseif tag.data.tag {
          Record { a: Bool }
        } else {
          Record { data: Bool }
        }
    }
